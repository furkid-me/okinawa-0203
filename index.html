<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="2026 æ²–ç¹©åˆæ˜¥æ·±åº¦ä¹‹æ—… - å®¶æ—æ—…è¡Œå®Œæ•´è¦åŠƒæ‰‹å†Š">
  <title>ğŸŒŠ æ²–ç¹©æ—…è¡Œè¦åŠƒ 2026</title>

  <!-- React & Babel -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans TC', sans-serif;
      background: #D4DFE6;
      min-height: 100vh;
      color: #1e293b;
      overflow-x: hidden;
    }

    .app-bg {
      position: fixed;
      inset: 0;
      background: linear-gradient(135deg, #D4DFE6 0%, #CADBE9 100%);
      z-index: -1;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1.5rem;
    }

    .header {
      text-align: center;
      padding: 3rem 2rem;
      background: white;
      border-radius: 1.5rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      margin-bottom: 2rem;
      border: 2px solid #8EC0E4;
    }

    .header h1 {
      font-size: clamp(2rem, 5vw, 2.75rem);
      color: #6AAFE6;
      margin-bottom: 0.75rem;
      font-weight: 800;
    }

    .header-info {
      color: #475569;
      font-size: 1rem;
      line-height: 1.6;
      font-weight: 500;
    }

    .tab-nav {
      display: flex;
      gap: 0.75rem;
      background: white;
      padding: 0.75rem;
      border-radius: 1.5rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      margin-bottom: 2rem;
      border: 2px solid #CADBE9;
    }

    .tab-btn {
      flex: 1;
      padding: 1rem 1.5rem;
      border: none;
      border-radius: 1rem;
      font-size: 1rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s ease;
      background: transparent;
      color: #64748b;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .tab-btn:hover {
      background: #f1f5f9;
      transform: translateY(-2px);
    }

    .tab-btn.active {
      background: linear-gradient(135deg, #0ea5e9 0%, #3b82f6 100%);
      color: white;
      box-shadow: 0 8px 20px rgba(14, 165, 233, 0.3);
    }

    .day-selector {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 0.5rem;
      background: white;
      padding: 0.75rem;
      border-radius: 1.5rem;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.06);
      margin-bottom: 1.5rem;
    }

    .day-btn {
      padding: 0.875rem;
      border: none;
      border-radius: 1rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      background: transparent;
      color: #94a3b8;
      font-size: 1rem;
    }

    .day-btn.active {
      background: #6AAFE6;
      color: white;
      box-shadow: 0 2px 8px rgba(106, 175, 230, 0.3);
    }

    .event-card {
      background: white;
      border-radius: 1.5rem;
      padding: 1.75rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      border-left: 6px solid #8EC0E4;
      transition: all 0.2s ease;
      border: 2px solid #CADBE9;
      border-left-width: 6px;
    }

    .event-card:hover {
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
    }

    .event-card.trans {
      border-left-color: #8EC0E4;
    }

    .event-card.food {
      border-left-color: #6AAFE6;
    }

    .event-card.spot {
      border-left-color: #8EC0E4;
    }

    .event-card.stay {
      border-left-color: #6AAFE6;
    }

    .event-card.shop {
      border-left-color: #8EC0E4;
    }

    .event-card.extra {
      border-left-color: #6AAFE6;
    }

    .event-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 0.75rem;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .event-time {
      display: inline-block;
      background: #D4DFE6;
      padding: 0.5rem 1rem;
      border-radius: 1.5rem;
      font-size: 0.9rem;
      font-weight: 700;
      color: #6AAFE6;
      border: 1px solid #8EC0E4;
    }

    .event-title {
      font-size: 1.25rem;
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 0.625rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      flex-wrap: wrap;
      line-height: 1.4;
    }

    .event-desc {
      color: #475569;
      line-height: 1.7;
      margin-bottom: 0.875rem;
      font-size: 1rem;
    }

    .event-meta {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
      margin-top: 0.75rem;
    }

    .meta-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.375rem;
      padding: 0.625rem 1rem;
      border-radius: 0.75rem;
      font-size: 0.875rem;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.2s ease;
      border: none;
      cursor: pointer;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .btn-map {
      background: linear-gradient(135deg, #0ea5e9 0%, #3b82f6 100%);
      color: white;
      box-shadow: 0 4px 12px rgba(14, 165, 233, 0.25);
    }

    .btn-map:hover {
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 8px 20px rgba(14, 165, 233, 0.4);
    }

    .btn-info {
      background: #D4DFE6;
      color: #475569;
      border: 1px solid #CADBE9;
    }

    .btn-info:hover {
      background: #CADBE9;
    }

    .rating {
      display: flex;
      align-items: center;
      gap: 0.25rem;
      color: #f59e0b;
      font-size: 0.9rem;
      font-weight: 600;
    }

    .nightlife-section {
      background: white;
      border-radius: 1.5rem;
      padding: 2rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      border: 2px solid #CADBE9;
    }

    .nightlife-tabs {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
    }

    .nightlife-tab {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 0.75rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s ease;
      background: #D4DFE6;
      color: #475569;
    }

    .nightlife-tab.active {
      background: #6AAFE6;
      color: white;
    }

    .nightlife-item {
      background: #f8fafc;
      padding: 1.25rem;
      border-radius: 1rem;
      margin-bottom: 0.875rem;
      border-left: 4px solid #8EC0E4;
      transition: all 0.2s ease;
    }

    .nightlife-item:hover {
      background: #f1f5f9;
    }

    .nightlife-title {
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 0.375rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .nightlife-desc {
      color: #64748b;
      font-size: 0.9rem;
      line-height: 1.6;
      margin-bottom: 0.5rem;
    }

    .tag {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 0.5rem;
      font-size: 0.75rem;
      font-weight: 700;
      margin-right: 0.5rem;
    }

    .tag-24h {
      background: #dbeafe;
      color: #1e40af;
    }

    .tag-late {
      background: #fef3c7;
      color: #92400e;
    }

    .tag-kid {
      background: #dcfce7;
      color: #166534;
    }

    .tools-grid {
      display: grid;
      gap: 1.5rem;
      grid-template-columns: 1fr;
    }

    @media (min-width: 768px) {
      .tools-grid {
        grid-template-columns: 1fr 1fr;
      }
    }

    .tool-card {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%);
      border-radius: 1.5rem;
      padding: 2rem;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(255, 255, 255, 0.5) inset;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .tool-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12), 0 0 0 1px rgba(255, 255, 255, 0.6) inset;
    }

    .tool-title {
      font-size: 1.25rem;
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 1.25rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .currency-row {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 0.875rem;
    }

    .currency-input {
      flex: 1;
      padding: 0.875rem 1rem;
      border: 2px solid #e2e8f0;
      border-radius: 0.875rem;
      font-size: 1rem;
      transition: all 0.3s;
    }

    .currency-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .currency-label {
      font-weight: 700;
      color: #64748b;
      min-width: 50px;
    }

    .expense-form {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-bottom: 1.25rem;
      padding: 1.25rem;
      background: #f8fafc;
      border-radius: 1rem;
    }

    .expense-input {
      padding: 0.875rem 1rem;
      border: 2px solid #e2e8f0;
      border-radius: 0.875rem;
      font-size: 1rem;
    }

    .expense-input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .btn-primary {
      padding: 1rem 1.75rem;
      border: none;
      border-radius: 1rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      background: linear-gradient(135deg, #0ea5e9 0%, #3b82f6 100%);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      box-shadow: 0 4px 12px rgba(14, 165, 233, 0.25);
    }

    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 24px rgba(14, 165, 233, 0.35);
    }

    .btn-primary:active {
      transform: translateY(-1px);
    }

    .btn-secondary {
      padding: 0.75rem 1.25rem;
      border: 2px solid #e2e8f0;
      border-radius: 0.875rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      background: white;
      color: #64748b;
    }

    .btn-secondary:hover {
      background: #f8fafc;
      border-color: #cbd5e1;
    }

    .expense-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 1.25rem;
      background: #f8fafc;
      border-radius: 0.875rem;
      margin-bottom: 0.625rem;
      transition: all 0.3s;
    }

    .expense-item:hover {
      background: #f1f5f9;
    }

    .expense-info {
      flex: 1;
    }

    .expense-title {
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 0.25rem;
    }

    .expense-amount {
      color: #0ea5e9;
      font-weight: 700;
    }

    .btn-delete {
      padding: 0.5rem;
      border: none;
      background: #fee2e2;
      color: #dc2626;
      border-radius: 0.5rem;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .btn-delete:hover {
      background: #fecaca;
      transform: scale(1.1);
    }

    .empty-state {
      text-align: center;
      padding: 3rem 1rem;
      color: #94a3b8;
    }

    .total-box {
      background: linear-gradient(135deg, #0ea5e9 0%, #3b82f6 100%);
      color: white;
      padding: 1.5rem;
      border-radius: 1rem;
      margin-top: 1.25rem;
      text-align: center;
    }

    .total-label {
      font-size: 0.9rem;
      opacity: 0.9;
      margin-bottom: 0.5rem;
    }


    .total-amount {
      font-size: 2rem;
      font-weight: 800;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(30px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateX(-20px);
      }

      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }

      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .fade-in {
      animation: fadeIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    @media (max-width: 640px) {
      .container {
        padding: 1rem;
      }

      .header {
        padding: 1.5rem 1rem;
      }

      .tab-nav {
        flex-direction: column;
        gap: 0.5rem;
      }

      .event-card {
        padding: 1.25rem;
      }
    }
  </style>
</head>

<body>
  <div class="app-bg"></div>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Lucide Icons as inline SVG
    const Calendar = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>;
    const Moon = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>;
    const Calculator = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="4" y="2" width="16" height="20" rx="2"></rect><line x1="8" y1="6" x2="16" y2="6"></line><line x1="16" y1="14" x2="16" y2="14.01"></line><line x1="12" y1="14" x2="12" y2="14.01"></line><line x1="8" y1="14" x2="8" y2="14.01"></line><line x1="16" y1="18" x2="16" y2="18.01"></line><line x1="12" y1="18" x2="12" y2="18.01"></line><line x1="8" y1="18" x2="8" y2="18.01"></line></svg>;
    const MapPin = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>;
    const ExternalLink = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>;
    const Star = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>;
    const Info = () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>;
    const Plus = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>;
    const Trash = () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg>;
    const Wallet = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M20 12V8H6a2 2 0 0 1-2-2c0-1.1.9-2 2-2h12v4"></path><path d="M4 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-6"></path><path d="M18 12a2 2 0 0 0 0 4h4v-4Z"></path></svg>;
    const MessageCircle = () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>;

    const App = () => {
      const [activeTab, setActiveTab] = useState('itinerary');
      const [activeDay, setActiveDay] = useState(1);
      const [nightlifeCat, setNightlifeCat] = useState('shopping');
      const [jpy, setJpy] = useState('');
      const [twd, setTwd] = useState('');
      const [expenses, setExpenses] = useState([]);
      const [expTitle, setExpTitle] = useState('');
      const [expAmount, setExpAmount] = useState('');
      const [showForm, setShowForm] = useState(false);

      // Load expenses from localStorage
      useEffect(() => {
        const saved = localStorage.getItem('okinawa-expenses');
        if (saved) {
          try {
            setExpenses(JSON.parse(saved));
          } catch (e) { }
        }
      }, []);

      // Save expenses to localStorage
      useEffect(() => {
        localStorage.setItem('okinawa-expenses', JSON.stringify(expenses));
      }, [expenses]);

      const itinerary = {
        1: {
          title: "é‚£éœ¸æŠµé”ãƒ»å¤œæ«»èˆ‡æ·±å¤œç§€",
          events: [
            { time: "13:30", name: "æ¡ƒåœ’æ©Ÿå ´èµ·é£› (äºèˆª) ğŸ›«", type: "trans", desc: "AirAsia èˆªç­å‡ºç™¼ã€‚è«‹ç¢ºä¿è­·ç…§èˆ‡ç›¸é—œè­‰ä»¶åœ¨èº«ã€‚" },
            { time: "15:55", name: "æŠµé”é‚£éœ¸æ©Ÿå ´ (OKA) ğŸ›¬", type: "trans", desc: "å‰å¾€åœ‹å…§ç·šèˆªå»ˆ 3 æ¨“ 6 è™Ÿå£æ­ä¹˜ç§Ÿè»Šå…¬å¸æ¥é§è»Šã€‚" },
            { time: "17:00", name: "ç§Ÿè»Šå–è»Šå®Œæˆ ğŸš—", type: "trans", desc: "é ˜å– Hustler & Roomyã€‚è«‹è©³æŸ¥è»Šæ³èˆ‡æ²¹éŒ¶ã€‚" },
            { time: "18:00", name: "é£¯åº— Check-inï¼šHotel Torifito", type: "stay", desc: "å…¥ä½ Hotel Torifito æ²–ç¹©é‚£éœ¸ã€‚å¸è¡Œæå¾Œç©ºè»Šå‡ºç™¼ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Hotel+Torifito+Okinawa+Naha" },
            { time: "18:30", name: "æ¼«æ¹–å…¬åœ’ï¼šè³å¯’ç·‹æ«» ğŸŒ¸", type: "spot", desc: "2 æœˆä¸­æ—¬ç››é–‹æœŸï¼Œé•·é•·çš„ç²‰ç´…æ«»èŠ±æ­¥é“ï¼Œè·¯ç‡ˆæ˜ ç…§ä¸‹çš„å¤œæ«»éå¸¸é©åˆå®¶æ—åˆç…§ã€‚", info: "https://okinawa.letsgojp.com/archives/833458/", map: "https://www.google.com/maps/search/?api=1&query=Manko+Park+Okinawa" },
            { time: "19:45", name: "æ™šé¤ï¼šæ³¢ç…§é–“ (ä¸‰ç·šå±…é…’å±‹)", type: "food", rating: 4.5, desc: "ç¾å ´ä¸‰ç·šæ¼”å¥èˆ‡å‚³çµ±æ²–ç¹©æ–™ç†ã€‚", info: "https://hateruma.jcc-okinawa.net/dinner/", map: "https://www.google.com/maps/search/?api=1&query=æ³¢ç…§é–“+é‚£éœ¸" },
            { time: "21:30", name: "å¯é¸ï¼šæ¼«ç•«å€‰åº« (24H äºŒæ‰‹æŒ–å¯¶)", type: "extra", desc: "24 å°æ™‚ç‡Ÿæ¥­çš„äºŒæ‰‹åº—ï¼Œæ¼«ç•«ã€ç©å…·ã€éŠæˆ²ã€DVD æ‡‰æœ‰ç›¡æœ‰ã€‚ç‡Ÿæ¥­è‡³ 00:00ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Manga+Souko+Naha" },
            { time: "21:30", name: "å¯é¸ï¼šSan-A Naha Main Place", type: "extra", desc: "å¤§å‹è³¼ç‰©ä¸­å¿ƒï¼Œè¦å» RIGHT ON æ‰¾ G STARã€‚Uniqloã€MUJIã€å¤§å‹è¶…å¸‚ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Naha+Main+Place" },
            { time: "21:30", name: "å¯é¸ï¼šChurasun 6 (æˆäººç§€) ğŸ”", type: "extra", desc: "æ²–ç¹©è‘—åçš„æˆäººè¡¨æ¼”åŠ‡å ´ï¼Œé«”é©—ç²¾å½©èˆè¹ˆèˆ‡æ·±å¤œæ°›åœã€‚", ticket: "https://www.kkday.com/zh-tw/product/181495?srsltid=AfmBOooiqSBf2FYjESja540p1mBJWN0KIkijna05FdFnDyLiWdljs8jq", map: "https://www.google.com/maps/search/?api=1&query=Churasun6+Okinawa" }
          ]
        },
        2: {
          title: "æº«æ³‰ã€åœ°åº•å¥‡è§€èˆ‡è³¼ç‰©",
          events: [
            { time: "09:00", name: "é£¯åº—å‡ºç™¼ ğŸš—", type: "trans", desc: "ç©ºè»Šå‰å¾€å—åŸå¸‚ï¼Œé–‹å§‹æº«æ³‰èˆ‡åœ°åº•ä¹‹æ—…ã€‚" },
            { time: "09:45", name: "çŒ¿äººä¹‹æ¹¯ (å¤©ç„¶æº«æ³‰) â™¨ï¸", type: "spot", desc: "ä½æ•·é«˜åœ°çš„å¤©ç„¶æµ·æ™¯æº«æ³‰ï¼Œæ—©ä¸Šæ³¡æ¹¯äººå°‘ï¼Œæ¬£è³ä¸­åŸç£ç¾æ™¯ï¼Œç·©è§£ç¬¬ä¸€å¤©ç–²å‹ã€‚", info: "https://lailai-web.com/apeman-spa/", map: "https://www.google.com/maps/search/?api=1&query=çŒ¿äººã®æ¹¯" },
            { time: "11:30", name: "ç‰æ³‰æ´ (æ²–ç¹©ä¸–ç•Œ) ğŸ—¿", type: "spot", rating: 4.3, desc: "æ—¥æœ¬è¦æ¨¡æœ€å¤§çš„é˜ä¹³çŸ³æ´ï¼Œæ¢ç´¢ 30 è¬å¹´çš„å¤§è‡ªç„¶å¥‡è¹Ÿï¼Œéš¨å¾Œå¯çœ‹å‚³çµ±å¤ªé¼“ç§€ã€‚ğŸ…¿ï¸ å…è²»åœè»Šå ´ã€‚", info: "https://okinawa.letsgojp.com/archives/757370/", map: "https://www.google.com/maps/search/?api=1&query=ç‰æ³‰æ´" },
            { time: "14:00", name: "PARCO CITY è‡ªç”±é€›è¡—åƒé£¯", type: "shop", rating: 4.4, desc: "æ²–ç¹©æœ€å¤§è³¼ç‰©ä¸­å¿ƒï¼Œé›†çµæ™‚å°šå“ç‰Œã€ç¾é£Ÿé¤å»³ã€è¶…å¸‚ã€‚æ»¿ 5000 æ—¥åœ“å¯è‡³ä¸€æ¨“é€€ç¨…ã€‚", map: "https://www.google.com/maps/search/?api=1&query=PARCO+CITY+Okinawa" },
            { time: "19:00", name: "æ™šé¤ï¼šç„¼è‚‰ã“ã“ã‹ã‚‰ é‚£è¦‡æ¾å±±åº—", type: "food", rating: 4.5, desc: "é«˜å“è³ªç‡’è‚‰åº—ï¼Œæ–°é®®è‚‰å“èˆ‡èˆ’é©ç”¨é¤ç’°å¢ƒã€‚", map: "https://maps.app.goo.gl/no6tyka7Cbdh22bo9" },
            { time: "21:30", name: "å¯é¸ï¼šå¤§åœ‹è—¥å¦ åœ‹éš›é€šç¸£å»³å‰åº—", type: "extra", desc: "è—¥å¦æ¡è³¼ï¼Œåƒ¹æ ¼å…·ç«¶çˆ­åŠ›ï¼Œåº—å“¡ä¸­æ–‡é€šã€‚ç‡Ÿæ¥­è‡³ 22:50ã€‚", map: "https://www.google.com/maps/search/?api=1&query=å¤§åœ‹è—¥å¦+åœ‹éš›é€šç¸£å»³å‰åº—" }
          ]
        },
        3: {
          title: "åŒ—éƒ¨ç¶“å…¸ãƒ»æ¹›è—å¤§æµ·èˆ‡å¤å®…æ™šé¤",
          events: [
            { time: "09:00", name: "é£¯åº—å‡ºç™¼ ğŸš—", type: "trans", desc: "æº–æ™‚å•Ÿç¨‹å‰å¾€åŒ—éƒ¨åè­·åœ°å€ã€‚" },
            { time: "11:00", name: "åˆé¤ï¼šCaptain Kangaroo Hamburger", type: "food", rating: 4.6, desc: "æ²–ç¹©æ¼¢å ¡å·”å³°ã€‚éºµåŒ…çš®å£“çƒ¤å·¥æ³•ç„¦é¦™é…¥è„†ã€‚å»ºè­° 11 é»æº–æ™‚å ±åˆ°å¡ä½ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Captain+Kangaroo+Okinawa" },
            { time: "12:45", name: "å¤å®‡åˆ©å¤§æ©‹ & å¤å®‡åˆ©å³¶", type: "spot", rating: 4.7, desc: "é–‹è»Šè·¨è¶Šçµ•ç¾ã€Œå¤å®‡åˆ©è—ã€å¤§æµ·ã€‚å³¶ä¸Šæœ‰å¿ƒå½¢å²©èˆ‡ç¥è©±éºå€ã€‚", info: "https://okinawa.letsgojp.com/archives/392405/", map: "https://www.google.com/maps/search/?api=1&query=å¤å®‡åˆ©å¤§æ©‹" },
            { time: "13:30", name: "å¯é¸ï¼šå¤å®‡åˆ©å³¶æµ·è†½è“‹é£¯ ğŸ¦", type: "extra", desc: "å¤å®‡åˆ©å³¶ç‰¹ç”¢æ–°é®®æµ·è†½è“‹é£¯ï¼Œå³¶ä¸Šå¤šå®¶é¤å»³ä¾›æ‡‰ï¼Œæ¨è–¦ã—ã‚‰ã•é£Ÿå ‚æˆ–è¦è¦é£¯ã€‚ç¾æ’ˆæµ·é®®ï¼Œæµ·æ™¯ç”¨é¤ã€‚", map: "https://www.google.com/maps/search/?api=1&query=å¤å®‡åˆ©å³¶+æµ·è†½è“‹é£¯" },
            { time: "14:30", name: "ç¾éº—æµ·æ°´æ—é¤¨", type: "spot", rating: 4.6, desc: "æ ¸å¿ƒã€é»‘æ½®ä¹‹æµ·ã€å·¨å‹ä¸»ç¼¸ã€‚15:00/17:00 é¯¨é¯Šé¤µé£Ÿç§€ã€15:30 çŠç‘šç¤é¤µé£Ÿç§€ã€17:30~æ‰“çƒŠ é»‘æ½®æ¢éšªï¼ˆå¾æ°´æ§½ä¸Šæ–¹çœ‹ï¼‰ã€‚ğŸ…¿ï¸ å…è²»åœè»Šï¼ˆP7 åŒ—å£åœè»Šå ´æœ€è¿‘ï¼Œæ­¥è¡Œ 5 åˆ†é˜ï¼‰ã€‚", infos: [{ name: "å®˜ç¶²", url: "https://churaumi.okinawa/tc/" }, { name: "ä»‹ç´¹", url: "https://www.gltjp.com/zh-hant/article/item/21171/" }], map: "https://www.google.com/maps/search/?api=1&query=Okinawa+Churaumi+Aquarium" },
            { time: "19:30", name: "æ™šé¤ï¼šç™¾å¹´å¤å®¶ å¤§å®¶ (Ufuya)", type: "food", rating: 4.4, desc: "ç™¾å¹´ç‰çƒå¤æ°‘å®¶é¤å»³ã€‚ä¸»æ‰“é«˜å“è³ªé˜¿å¤è±¬ (Agu Pork) æ¶®æ¶®é‹èˆ‡åº­åœ’ç€‘å¸ƒé€ æ™¯ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Ufuya+Okinawa" },
            { time: "22:30", name: "è¿”å›é‚£éœ¸é£¯åº—", type: "trans", desc: "é–‹è»Šè¿”å› Hotel Torifito ä¼‘æ¯ã€‚" },
            { time: "23:00", name: "å¯é¸ï¼šå”å‰è»»å¾· åœ‹éš›é€šåº—", type: "extra", desc: "é©šå®‰æ®¿å ‚ï¼Œè—¥å¦ã€é›¶é£Ÿã€ä¼´æ‰‹ç¦®ä¸€ç«™è³¼è¶³ã€‚ç‡Ÿæ¥­è‡³ 05:00ã€‚", map: "https://www.google.com/maps/search/?api=1&query=å”å‰è»»å¾·+åœ‹éš›é€š" }
          ]
        },
        4: {
          title: "åŸå¸‚æ•£ç­–èˆ‡æœ€çµ‚æ¡è²·",
          events: [
            { time: "09:00", name: "Check-out å‡ºç™¼ ğŸš—", type: "trans", desc: "å…¨å“¡è¡Œæè£è¼‰ä¸Šè»Šã€‚" },
            { time: "09:30", name: "æ³¢ä¸Šå®®", type: "spot", rating: 4.4, desc: "çŠç‘šç¤æ‡¸å´–ä¸Šçš„å®ˆè­·ç¥ã€‚å¿…è²·å°æ›¸åŒ…å¾¡å®ˆçµ¦å°å­©ã€‚", info: "https://okinawa.letsgojp.com/archives/757433/", map: "https://www.google.com/maps/search/?api=1&query=æ³¢ä¸Šå®®" },
            { time: "10:30", name: "å£ºå±‹é™¶å™¨è¡— æ™¨é–“æ•£æ­¥", type: "spot", rating: 4.3, desc: "300 å¹´æ­·å²çš„é™¶è—ç™¼æºåœ°ï¼ŒéµåµçŸ³è¡—é“èˆ‡å±‹é ‚ä¸Šçš„é¢¨ç…çˆºï¼Œæ„Ÿå—å¯§éœå¤é‚£éœ¸ã€‚", info: "https://ajunfun.tw/yachimun/", map: "https://www.google.com/maps/search/?api=1&query=å£ºå±‹é™¶å™¨è¡—" },
            { time: "12:30", name: "åˆé¤äºŒé¸ä¸€", type: "food", desc: "é¸é … Aï¼šç¬¬ä¸€ç‰§å¿—å…¬è¨­å¸‚å ´ï¼ˆåœ¨åœ°æµ·é®®å¸‚å ´ï¼ŒäºŒæ¨“ä»£å®¢æ–™ç†ï¼‰| é¸é … Bï¼šå‚‘å…‹ç‰›æ’ï¼ˆæ²–ç¹©å‚³å¥‡ç‰›æ’è€åº—ï¼‰ã€‚", maps: [{ name: "ç¬¬ä¸€ç‰§å¿—å…¬è¨­å¸‚å ´", url: "https://www.google.com/maps/search/?api=1&query=ç¬¬ä¸€ç‰§å¿—å…¬è¨­å¸‚å ´" }, { name: "å‚‘å…‹ç‰›æ’", url: "https://www.google.com/maps/search/?api=1&query=Jack's+Steak+House+Naha" }] },
            { time: "14:30", name: "Ashibinaa Outlet æœ€çµ‚æ¡è²·", type: "shop", desc: "é›¢æ©Ÿå ´åƒ… 15 åˆ†é˜ï¼Œæœ€å¾Œè¡åˆºé‹å‹•å“ç‰Œèˆ‡ç²¾å“ã€‚ğŸ…¿ï¸ å¤§å‹å…è²»åœè»Šå ´ã€‚", infos: [{ name: "ä»‹ç´¹1", url: "https://bobbyfun.tw/2024-01-07-2700/" }, { name: "ä»‹ç´¹2", url: "https://okinawa.letsgojp.com/archives/10240/" }], map: "https://www.google.com/maps/search/?api=1&query=Ashibinaa+Outlet" },
            { time: "17:00", name: "â›½ æ»¿æ²¹é‚„è»Š (é‚„è»ŠæœŸé™)", type: "trans", desc: "æ­¸é‚„è»Šè¼›ï¼Œæ­ä¹˜ç§Ÿè»Šæ¥é§è»Šå‰å¾€æ©Ÿå ´ã€‚" },
            { time: "21:30", name: "è™èˆªèµ·é£›æ­¸å®¶ ğŸ›«", type: "trans", desc: "å¸¶è‘—æ»¿è¼‰å›æ†¶æ­¸å®¶ã€‚" }
          ]
        }
      };

      const nightlife = {
        shopping: [
          { name: "ğŸ’Š è—¥å¦å¿…è²·åƒè€ƒ", desc: "2024 æœ€æ–°è—¥å¦æ¡è³¼æ¸…å–®èˆ‡æ¨è–¦å•†å“ã€‚", type: "åƒè€ƒ", info: "https://bobbyfun.tw/2024-03-06-3076/" },
          { name: "Union è¶…å¸‚ (ç‰§å¿—åº—)", desc: "24H åœ¨åœ°è¶…å¸‚ã€‚è£œçµ¦æ°´ã€é®®ä¹³èˆ‡åŠåƒ¹ç†Ÿé£Ÿã€‚", type: "24H", map: "https://www.google.com/maps/search/?api=1&query=Union+Makishi" },
          { name: "å”å‰è¨¶å¾· åœ‹éš›é€šåº—", desc: "è‡³ 05:00ã€‚è³¼ç‰©å¤©å ‚ï¼Œå‡Œæ™¨å…æ’éšŠé€€ç¨…æœ€å¿«ã€‚", type: "æ·±å¤œ", map: "https://www.google.com/maps/search/?api=1&query=Don+Quijote+Kokusai+Dori" },
          { name: "MaxValu (æ¾å±±åº—)", desc: "24H æ——è‰¦è¶…å¸‚ã€‚ç†Ÿé£Ÿè±å¯Œï¼Œå®µå¤œé¦–é¸ã€‚", type: "24H", map: "https://www.google.com/maps/search/?api=1&query=MaxValu+Matsuyama" },
          { name: "æ¼«ç•«å€‰åº« (é‚£éœ¸åº—)", desc: "è‡³ 00:00ã€‚äºŒæ‰‹æ¢éšªé¦–é¸ï¼Œå…¬ä»”ã€æ¨¡å‹ã€é›»ç©ã€ç²¾å“åŒ…æŒ–å¯¶ã€‚", type: "æ·±å¤œ", map: "https://www.google.com/maps/search/?api=1&query=Manga+Souko+Naha" },
          { name: "2nd STREET (å¤©ä¹…åº—)", desc: "è‡³ 24:00ã€‚é«˜å“è³ªäºŒæ‰‹æœé£¾ã€æ½®ç‰Œé¸ç‰©ã€‚", type: "æ·±å¤œ", map: "https://www.google.com/maps/search/?api=1&query=2nd+STREET+Ameku" },
          { name: "Drug Eleven (è—¥å¦)", desc: "è‡³ 24:00ã€‚å›¤è²¨è—¥å“é¦–é¸ã€‚", type: "æ·±å¤œ", map: "https://www.google.com/maps/search/?api=1&query=Drug+Eleven+Naha" },
          { name: "æœ­å¹Œè—¥å¦ (Satudora)", desc: "è‡³ 23:00ã€‚ç’°å¢ƒå¯¬æ•ä¸æ“æ“ ï¼Œå“é …é½Šå…¨ã€‚", type: "æ·±å¤œ", map: "https://www.google.com/maps/search/?api=1&query=Satudora+Naha" },
          { name: "Aeon é‚£éœ¸ (è¶…å¸‚éƒ¨)", desc: "è‡³ 24:00ã€‚ç™¾è²¨å‹è¶…å¸‚è£œçµ¦ç«™ã€‚", type: "æ·±å¤œ", map: "https://www.google.com/maps/search/?api=1&query=Aeon+Naha" },
          { name: "å¤§åœ‹è—¥å¦ (ä¸­å¤®åº—)", desc: "è‡³ 23:00ã€‚åƒ¹æ ¼å…·ç«¶çˆ­åŠ›ï¼Œåº—å“¡ä¸­æ–‡é€šã€‚", type: "æ·±å¤œ", map: "https://www.google.com/maps/search/?api=1&query=Daikoku+Drug+Kokusai+Dori" },
          { name: "Lawson é£¯åº—æ—", desc: "24Hã€‚å°±åœ¨ Hotel Torifito é™„è¿‘ã€‚", type: "24H", map: "https://www.google.com/maps/search/?api=1&query=Lawson+Naha" },
          { name: "å…¨å®¶ä¾¿åˆ©å•†åº—", desc: "24Hã€‚ä¾¿åˆ©å•†åº—ï¼Œé›¶é£Ÿé£²æ–™è£œçµ¦ç«™ã€‚", type: "24H", map: "https://www.google.com/maps/search/?api=1&query=FamilyMart+Naha" },
          { name: "å˜‰æ•¸å•†æœƒ", desc: "è‡³ 18:00ã€‚è²“å’ªå‘¨é‚Šå•†å“å°ˆè³£åº—ï¼Œå„å¼è²“å’ªé›œè²¨èˆ‡ç´€å¿µå“ã€‚", type: "å‚æ™š", map: "https://www.google.com/maps/search/?api=1&query=å˜‰æ•¸å•†æœƒ+é‚£éœ¸" }
        ],
        food: [
          { name: "æš–æš®æ‹‰éºµ (ç‰§å¿—åº—)", desc: "è‡³ 02:00 AMã€‚ä¹å·å† è»æ‹‰éºµã€‚", kid: "OK", map: "https://www.google.com/maps/search/?api=1&query=æš–æš®+é‚£éœ¸" },
          { name: "ä¸€è˜­æ‹‰éºµ (åœ‹éš›é€šåº—)", desc: "è‡³ 06:00 AMã€‚åŒ…å»‚å®µå¤œé¦–é¸ã€‚", kid: "OK", map: "https://www.google.com/maps/search/?api=1&query=ä¸€è˜­+é‚£éœ¸" },
          { name: "Mikado (ã¿ã‹ã©) é£Ÿå ‚", desc: "è‡³ 02:00 AMã€‚ä»€éŒ¦é£¯éˆé­‚é£Ÿå ‚ã€‚", kid: "æ¨è–¦", map: "https://www.google.com/maps/search/?api=1&query=Mikado+Naha" },
          { name: "æœç„¶ç‰›æ’ (Yappari)", desc: "è‡³ 02:00 AMã€‚çŸ³æ¿ç‰›æ’åƒåˆ°é£½ã€‚", kid: "OK", map: "https://www.google.com/maps/search/?api=1&query=Yappari+Steak+Naha" },
          { name: "å±±ç¾Šæ–™ç† æ¦®", desc: "è‡³ 23:00ã€‚æ²–ç¹©ç‰¹è‰²å±±ç¾Šæ–™ç†å°ˆé–€åº—ã€‚å¿…è©¦åªæœ‰æ²–ç¹©æ‰æœ‰çš„ç¾Šè‚‰åˆºèº«ã€‚", kid: "OK", map: "https://www.google.com/maps/search/?api=1&query=å±±ç¾Šæ–™ç†+æ¦®+é‚£éœ¸" },
          { name: "æ˜­å’Œæ‘å±…é…’å±‹", desc: "æ™šé–“ç‡Ÿæ¥­ã€‚ç¾Šè‚‰åˆºèº«ã€å³¶å”„è¡¨æ¼”ã€‚é«”é©—é“åœ°æ²–ç¹©æ–‡åŒ–ã€‚", kid: "æ¨è–¦", map: "https://www.google.com/maps/search/?api=1&query=æ˜­å’Œæ‘+é‚£éœ¸" },
          { name: "æ³¢ç…§é–“ (ä¸‰ç·šå±…é…’å±‹)", desc: "æ™šé–“ç‡Ÿæ¥­ã€‚ç¾å ´æ¼”å¥ã€‚", kid: "æ¨è–¦", map: "https://www.google.com/maps/search/?api=1&query=æ³¢ç…§é–“+é‚£éœ¸" },
          { name: "åº·é¾æ‹‰éºµ (Kouryu)", desc: "è‡³ 05:00 AMã€‚åœ¨åœ°é¦–é¸ã€‚", kid: "OK", map: "https://www.google.com/maps/search/?api=1&query=Kouryu+Naha" },
          { name: "åœ‹éš›é€šå±‹å°æ‘", desc: "è‡³ 24:00ã€‚èšé¤æ°›åœé¦–é¸ã€‚20 é–“å°åº—ã€‚", kid: "ç†±é¬§", map: "https://www.google.com/maps/search/?api=1&query=åœ‹éš›é€šå±‹å°æ‘" },
          { name: "å‚‘å…‹ç‰›æ’ (Jack's)", desc: "è‡³ 22:30ã€‚å‚³å¥‡ç‰›æ’è€åº—ã€‚", kid: "OK", map: "https://www.google.com/maps/search/?api=1&query=Jack's+Steak+House+Naha" },
          { name: "ä¸²è§’ (Kushikado)", desc: "è‡³ 02:00 AMã€‚ä¸²ç‡’æ”¾é¡Œã€‚", kid: "è¼ƒåµ", map: "https://www.google.com/maps/search/?api=1&query=ä¸²è§’+ä¹…èŒ‚åœ°" }
        ],
        dessert: [
          { name: "Blue Seal (åœ‹éš›é€šåº—)", desc: "è‡³ 22:30ã€‚å¿…åƒé¹½ç‰›å¥¶å£å‘³å†°æ·‡æ·‹ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Blue+Seal+Kokusai+Dori" },
          { name: "é¹½å±‹ (Yukisio)", desc: "è‡³ 22:00ã€‚é›ªé¹½éœœæ·‡æ·‹å°ˆè³£ã€‚", map: "https://www.google.com/maps/search/?api=1&query=é¹½å±‹+é‚£éœ¸" },
          { name: "McDonald's 24H", desc: "24Hã€‚æ·±å¤œé™å®šæ´¾èˆ‡å¡”å¯å ¡ã€‚", map: "https://www.google.com/maps/search/?api=1&query=McDonald's+Naha" },
          { name: "LAWSON å†°æ«ƒç”œå“", desc: "24Hã€‚ç²¾å“ç”œé»ã€å“ˆæ ¹é”æ–¯ã€‚", map: "https://www.google.com/maps/search/?api=1&query=Lawson+Naha" },
          { name: "è¶…å¸‚æ·±å¤œç†Ÿé£Ÿé»å¿ƒ", desc: "MaxValuã€Unionã€‚å’Œè“å­èˆ‡è›‹ç³•æŠ˜æ‰£ã€‚", map: "https://www.google.com/maps/search/?api=1&query=MaxValu+Matsuyama" }
        ]
      };

      const convert = (from, val) => {
        const rate = 0.21;
        if (from === 'jpy') {
          setJpy(val);
          setTwd(val ? Math.round(val * rate) : '');
        } else {
          setTwd(val);
          setJpy(val ? Math.round(val / rate) : '');
        }
      };

      const addExpense = () => {
        if (!expTitle.trim() || !expAmount) return;
        setExpenses([{ title: expTitle.trim(), amountJpy: parseInt(expAmount) }, ...expenses]);
        setExpTitle('');
        setExpAmount('');
        setShowForm(false);
      };

      const deleteExpense = (idx) => {
        setExpenses(expenses.filter((_, i) => i !== idx));
      };

      const totalJpy = expenses.reduce((sum, exp) => sum + exp.amountJpy, 0);
      const totalTwd = Math.round(totalJpy * 0.21);

      const renderItinerary = () => (
        <div className="fade-in">
          <div className="day-selector">
            {[1, 2, 3, 4].map(d => (
              <button
                key={d}
                onClick={() => setActiveDay(d)}
                className={`day-btn ${activeDay === d ? 'active' : ''}`}
              >
                Day {d}
              </button>
            ))}
          </div>

          <h2 style={{ fontSize: '1.5rem', fontWeight: 700, marginBottom: '1.5rem', color: '#1e293b' }}>
            {itinerary[activeDay].title}
          </h2>

          {itinerary[activeDay].events.map((ev, idx) => (
            <div key={idx} className={`event-card ${ev.type}`}>
              <div className="event-header">
                <span className="event-time">{ev.time}</span>
                {ev.rating && (
                  <div className="rating">
                    <Star /> {ev.rating}
                  </div>
                )}
              </div>
              <h3 className="event-title">{ev.name}</h3>
              <p className="event-desc">{ev.desc}</p>
              {(ev.map || ev.ticket || ev.info || ev.infos || ev.maps) && (
                <div className="event-meta">
                  {ev.ticket && (
                    <a href={ev.ticket} target="_blank" className="meta-btn" style={{ background: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)', color: 'white' }}>
                      <ExternalLink /> è¨‚ç¥¨
                    </a>
                  )}
                  {ev.info && (
                    <a href={ev.info} target="_blank" className="meta-btn" style={{ background: 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)', color: 'white' }}>
                      <Info /> ä»‹ç´¹
                    </a>
                  )}
                  {ev.infos && ev.infos.map((infoItem, infoIdx) => (
                    <a key={infoIdx} href={infoItem.url} target="_blank" className="meta-btn" style={{ background: 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)', color: 'white' }}>
                      <Info /> {infoItem.name}
                    </a>
                  ))}
                  {ev.map && (
                    <a href={ev.map} target="_blank" className="meta-btn btn-map">
                      <MapPin /> åœ°åœ–
                    </a>
                  )}
                  {ev.maps && ev.maps.map((mapItem, mapIdx) => (
                    <a key={mapIdx} href={mapItem.url} target="_blank" className="meta-btn btn-map">
                      <MapPin /> {mapItem.name}
                    </a>
                  ))}
                </div>
              )}
            </div>
          ))}
        </div>
      );

      const renderNightlife = () => (
        <div className="nightlife-section fade-in">
          <h2 style={{ fontSize: '1.5rem', fontWeight: 700, marginBottom: '1.25rem', color: '#1e293b' }}>
            é‚£éœ¸æ·±å¤œæ¢ç´¢åå–®
          </h2>

          <div className="nightlife-tabs">
            <button
              onClick={() => setNightlifeCat('shopping')}
              className={`nightlife-tab ${nightlifeCat === 'shopping' ? 'active' : ''}`}
            >
              ğŸ›’ è³¼ç‰© (10é¸)
            </button>
            <button
              onClick={() => setNightlifeCat('food')}
              className={`nightlife-tab ${nightlifeCat === 'food' ? 'active' : ''}`}
            >
              ğŸœ ç¾é£Ÿ (10é¸)
            </button>
            <button
              onClick={() => setNightlifeCat('dessert')}
              className={`nightlife-tab ${nightlifeCat === 'dessert' ? 'active' : ''}`}
            >
              ğŸ° ç”œé» (5é¸)
            </button>
          </div>

          {nightlife[nightlifeCat].map((item, idx) => (
            <div key={idx} className="nightlife-item">
              <div className="nightlife-title">
                {item.name}
                {item.type && <span className={`tag tag-${item.type === '24H' ? '24h' : 'late'}`}>{item.type}</span>}
                {item.kid && <span className="tag tag-kid">{item.kid}</span>}
              </div>
              <p className="nightlife-desc">{item.desc}</p>
              <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>
                {item.info && (
                  <a href={item.info} target="_blank" className="meta-btn btn-info" style={{ display: 'inline-flex' }}>
                    <Info /> ä»‹ç´¹
                  </a>
                )}
                {item.map && (
                  <a href={item.map} target="_blank" className="meta-btn btn-map" style={{ display: 'inline-flex' }}>
                    <MapPin /> åœ°åœ–
                  </a>
                )}
              </div>
            </div>
          ))}
        </div>
      );

      const renderTools = () => (
        <div className="tools-grid fade-in">
          <div className="tool-card">
            <h3 className="tool-title">
              <Calculator /> åŒ¯ç‡è¨ˆç®—å™¨
            </h3>
            <p style={{ color: '#64748b', fontSize: '0.875rem', marginBottom: '1rem' }}>
              å³æ™‚åŒ¯ç‡ï¼š1 JPY â‰ˆ 0.21 TWD
            </p>
            <div className="currency-row">
              <span className="currency-label">JPY</span>
              <input
                type="number"
                className="currency-input"
                placeholder="10000"
                value={jpy}
                onChange={(e) => convert('jpy', e.target.value)}
              />
            </div>
            <div className="currency-row">
              <span className="currency-label">TWD</span>
              <input
                type="number"
                className="currency-input"
                placeholder="2100"
                value={twd}
                onChange={(e) => convert('twd', e.target.value)}
              />
            </div>
          </div>

          <div className="tool-card">
            <h3 className="tool-title">
              <MessageCircle /> æ—¥æ–‡æœƒè©±åƒè€ƒ
            </h3>
            <p style={{ color: '#64748b', fontSize: '0.875rem', marginBottom: '1rem' }}>
              æ—…éŠå¸¸ç”¨æ—¥æ–‡æœƒè©±ï¼Œé»æ“ŠæŸ¥çœ‹è©³ç´°å…§å®¹
            </p>
            <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>
              <a
                href="https://matcha-jp.com/tw/2219"
                target="_blank"
                rel="noopener noreferrer"
                className="meta-btn btn-info"
                style={{ width: '100%', justifyContent: 'center' }}
              >
                ğŸ—ºï¸ å•è·¯ç›¸é—œæ—¥æ–‡
              </a>
              <a
                href="https://matcha-jp.com/tw/2219"
                target="_blank"
                rel="noopener noreferrer"
                className="meta-btn btn-info"
                style={{ width: '100%', justifyContent: 'center' }}
              >
                ğŸ›ï¸ è³¼ç‰©ç›¸é—œæ—¥æ–‡
              </a>
              <a
                href="https://matcha-jp.com/tw/2635"
                target="_blank"
                rel="noopener noreferrer"
                className="meta-btn btn-info"
                style={{ width: '100%', justifyContent: 'center' }}
              >
                ğŸœ é¤å»³ç›¸é—œæ—¥æ–‡
              </a>
              <a
                href="https://matcha-jp.com/tw/2598"
                target="_blank"
                rel="noopener noreferrer"
                className="meta-btn btn-info"
                style={{ width: '100%', justifyContent: 'center' }}
              >
                ğŸ¨ ä½å®¿ç›¸é—œæ—¥æ–‡
              </a>
            </div>
          </div>

          <div className="tool-card">
            <h3 className="tool-title">
              âœˆï¸ Visit Japan Web
            </h3>
            <p style={{ color: '#64748b', fontSize: '0.875rem', marginBottom: '1rem' }}>
              å…¥å¢ƒæ—¥æœ¬å¿«é€Ÿé€šé—œç³»çµ±ï¼Œæå‰ç·šä¸Šå¡«å¯«å…¥å¢ƒè³‡æ–™ï¼Œç¯€çœé€šé—œæ™‚é–“
            </p>
            <a
              href="https://vjw-lp.digital.go.jp/zh-hant/"
              target="_blank"
              rel="noopener noreferrer"
              className="meta-btn btn-info"
              style={{ width: '100%', justifyContent: 'center' }}
            >
              ğŸŒ å‰å¾€ Visit Japan Web
            </a>
          </div>

          <div className="tool-card">
            <h3 className="tool-title">
              ğŸˆ æ—¥æ–‡ç¿»è­¯å·¥å…·
            </h3>
            <p style={{ color: '#64748b', fontSize: '0.875rem', marginBottom: '1rem' }}>
              å³æ™‚ä¸­æ—¥æ–‡ç¿»è­¯ï¼Œæ—…é€”ä¸­æºé€šæ›´ä¾¿åˆ©
            </p>
            <a
              href="https://translate.google.com/?sl=zh-TW&tl=ja&op=translate"
              target="_blank"
              rel="noopener noreferrer"
              className="meta-btn btn-info"
              style={{ width: '100%', justifyContent: 'center' }}
            >
              ğŸ”¤ é–‹å•Ÿç¿»è­¯å·¥å…·
            </a>
          </div>

          <div className="tool-card">
            <h3 className="tool-title">
              <Wallet /> æ”¯å‡ºè¿½è¹¤
            </h3>

            {!showForm && (
              <button onClick={() => setShowForm(true)} className="btn-secondary" style={{ width: '100%', marginBottom: '1.25rem' }}>
                <Plus /> æ–°å¢æ”¯å‡º
              </button>
            )}

            {showForm && (
              <div className="expense-form">
                <input
                  type="text"
                  className="expense-input"
                  placeholder="é …ç›®åç¨±ï¼ˆä¾‹ï¼šæ™šé¤ï¼‰"
                  value={expTitle}
                  onChange={(e) => setExpTitle(e.target.value)}
                />
                <input
                  type="number"
                  className="expense-input"
                  placeholder="é‡‘é¡ (JPY)"
                  value={expAmount}
                  onChange={(e) => setExpAmount(e.target.value)}
                />
                <div style={{ display: 'flex', gap: '0.5rem' }}>
                  <button onClick={addExpense} className="btn-primary" style={{ flex: 1 }}>
                    ç¢ºå®šæ–°å¢
                  </button>
                  <button onClick={() => { setShowForm(false); setExpTitle(''); setExpAmount(''); }} className="btn-secondary">
                    å–æ¶ˆ
                  </button>
                </div>
              </div>
            )}

            {expenses.length === 0 && !showForm && (
              <div className="empty-state">
                <p>å°šç„¡æ”¯å‡ºè¨˜éŒ„</p>
              </div>
            )}

            {expenses.map((exp, idx) => (
              <div key={idx} className="expense-item">
                <div className="expense-info">
                  <div className="expense-title">{exp.title}</div>
                  <div className="expense-amount">
                    Â¥{exp.amountJpy.toLocaleString()} <span style={{ color: '#94a3b8', fontSize: '0.85rem', marginLeft: '0.5rem' }}>â‰ˆ TWD ${Math.round(exp.amountJpy * 0.21).toLocaleString()}</span>
                  </div>
                </div>
                <button onClick={() => deleteExpense(idx)} className="btn-delete">
                  <Trash />
                </button>
              </div>
            ))}

            {expenses.length > 0 && (
              <div className="total-box">
                <div className="total-label">ç¸½è¨ˆæ”¯å‡º</div>
                <div className="total-amount">Â¥{totalJpy.toLocaleString()}</div>
                <div style={{ fontSize: '0.9rem', marginTop: '0.5rem', opacity: 0.9 }}>
                  â‰ˆ TWD ${totalTwd.toLocaleString()}
                </div>
              </div>
            )}
          </div>

          <div className="tool-card">
            <h3 className="tool-title">
              ğŸ“ ç·Šæ€¥è¯çµ¡è³‡è¨Š
            </h3>
            <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem', fontSize: '0.95rem' }}>
              <div>
                <div style={{ fontWeight: '700', color: '#1e293b', marginBottom: '0.5rem' }}>ğŸš¨ æ—¥æœ¬ç·Šæ€¥é›»è©±</div>
                <div style={{ color: '#64748b', lineHeight: '1.6' }}>
                  â€¢ æ€¥æ•‘/ç«è­¦ï¼š<strong>119</strong><br />
                  â€¢ å ±è­¦ï¼š<strong>110</strong>
                </div>
              </div>

              <div>
                <div style={{ fontWeight: '700', color: '#1e293b', marginBottom: '0.5rem' }}>ğŸ‡¹ğŸ‡¼ é§æ—¥è¾¦äº‹è™•</div>
                <div style={{ color: '#64748b', lineHeight: '1.6' }}>
                  å°åŒ—é§æ—¥ç¶“æ¿Ÿæ–‡åŒ–ä»£è¡¨è™•é‚£éœ¸åˆ†è™•<br />
                  é›»è©±ï¼š<strong>098-862-7008</strong>
                </div>
              </div>

              <div>
                <div style={{ fontWeight: '700', color: '#1e293b', marginBottom: '0.5rem' }}>ğŸ¨ ä½å®¿è³‡è¨Š</div>
                <div style={{ color: '#64748b', lineHeight: '1.6' }}>
                  Hotel Torifito æ²–ç¹©é‚£éœ¸<br />
                  åœ°å€ï¼šæ²–ç¹©ç¸£é‚£éœ¸å¸‚æ¾å±±1-3-6<br />
                  <a href="https://www.google.com/maps/search/?api=1&query=Hotel+Torifito+Okinawa+Naha" target="_blank" className="meta-btn btn-map" style={{ display: 'inline-flex', marginTop: '0.5rem', fontSize: '0.875rem' }}>
                    <MapPin /> æŸ¥çœ‹åœ°åœ–
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      );

      return (
        <div className="container">
          <div className="header">
            <h1>ğŸŒŠ æ²–ç¹©æ—…è¡Œè¦åŠƒ 2026</h1>
            <div className="header-info">
              <div>ğŸ“… 2026/02/15 - 02/18 (å››å¤©ä¸‰å¤œ)</div>
              <div>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ 6 ä½å¤§äººã€1 ä½å…’ç«¥ (6 æ­²)</div>
              <div>ğŸ¨ Hotel Torifito æ²–ç¹©é‚£éœ¸ | ğŸš— Hustler + Roomy</div>
            </div>
            <div style={{ marginTop: '1.25rem' }}>
              <a
                href="https://www.canva.com/design/DAHAcrnqgfk/Imr_0kyQDf1jNyspPLA4Lw/view?utm_content=DAHAcrnqgfk&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=h61d32850e6"
                target="_blank"
                rel="noopener noreferrer"
                className="meta-btn btn-map"
                style={{ display: 'inline-flex', fontSize: '0.95rem', padding: '0.75rem 1.5rem' }}
              >
                ğŸ“– æŸ¥çœ‹å®Œæ•´æ—…éŠæ‰‹å†Š
              </a>
            </div>
          </div>

          <div className="tab-nav">
            <button
              onClick={() => setActiveTab('itinerary')}
              className={`tab-btn ${activeTab === 'itinerary' ? 'active' : ''}`}
            >
              <Calendar /> è¡Œç¨‹è¦åŠƒ
            </button>
            <button
              onClick={() => setActiveTab('nightlife')}
              className={`tab-btn ${activeTab === 'nightlife' ? 'active' : ''}`}
            >
              <Moon /> æŒ‡å—
            </button>
            <button
              onClick={() => setActiveTab('tools')}
              className={`tab-btn ${activeTab === 'tools' ? 'active' : ''}`}
            >
              <Calculator /> å·¥å…·
            </button>
          </div>

          {activeTab === 'itinerary' && renderItinerary()}
          {activeTab === 'nightlife' && renderNightlife()}
          {activeTab === 'tools' && renderTools()}
        </div>
      );
    };

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>

</html>